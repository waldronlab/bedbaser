<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>bedbaser • bedbaser</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="bedbaser">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bedbaser</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/bedbaser.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jwokaty/bedbaser/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>bedbaser</h1>
                        <h4 data-toc-skip class="author">J Wokaty</h4>
            <address class="author_afil">
      CUNY School of Public
Health<br><a class="author_email" href="mailto:#"></a><a href="mailto:jennifer.wokaty@sph.cuny.edu" class="email">jennifer.wokaty@sph.cuny.edu</a>
      </address>
                  
      
      <small class="dont-index">Source: <a href="https://github.com/jwokaty/bedbaser/blob/devel/vignettes/bedbaser.Rmd" class="external-link"><code>vignettes/bedbaser.Rmd</code></a></small>
      <div class="hidden name"><code>bedbaser.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>bedbaser is an R API client for <a href="https://bedbase.org" class="external-link">BEDbase</a> that provides access to the <a href="https://api.bedbase.org" class="external-link">BEDbase API</a> and includes convenience
functions, such to create GRanges and GRangesList objects.</p>
</div>
<div class="section level2">
<h2 id="install-bedbaser">Install bedbaser<a class="anchor" aria-label="anchor" href="#install-bedbaser"></a>
</h2>
<p>Install bedbaser using <em><a href="https://CRAN.R-project.org/package=BiocManager" class="external-link">BiocManager</a></em>
and load the package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="st">"BiocManager"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://bioconductor.github.io/BiocManager/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="st">"bedbaser"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/waldronlab/bedbaser" class="external-link">bedbaser</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="create-the-bedbase-service-instance">Create the BEDbase Service instance<a class="anchor" aria-label="anchor" href="#create-the-bedbase-service-instance"></a>
</h2>
<p>bedbaser uses the <em><a href="https://bioconductor.org/packages/3.20/AnVIL" class="external-link">AnVIL</a></em>
Service class to expose the BEDbase API.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">api</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/BEDbase.html">BEDbase</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in readLines(file, warn = readLines.warn): incomplete final line found</span></span>
<span><span class="co">## on '/tmp/RtmpB3iiq6/filea65a5b41ca'</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">operations</span><span class="op">(</span><span class="va">api</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $lending_page__get</span></span>
<span><span class="co">## lending_page__get </span></span>
<span><span class="co">## Lending Page </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Parameters:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $index_v1_get</span></span>
<span><span class="co">## index_v1_get </span></span>
<span><span class="co">## API intro page </span></span>
<span><span class="co">## Description:</span></span>
<span><span class="co">##   Display the index UI page</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Parameters:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $get_example_bed_record_v1_bed_example_get</span></span>
<span><span class="co">## get_example_bed_record_v1_bed_example_get </span></span>
<span><span class="co">## Get example BED record metadata </span></span>
<span><span class="co">## Description:</span></span>
<span><span class="co">##   Get metadata for an example BED record.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Parameters:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $list_beds_v1_bed_list_get</span></span>
<span><span class="co">## list_beds_v1_bed_list_get </span></span>
<span><span class="co">## Paged list of all BED records </span></span>
<span><span class="co">## Description:</span></span>
<span><span class="co">##   Returns list of BED files in the database with optional filters.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Parameters:</span></span>
<span><span class="co">##   limit (integer)</span></span>
<span><span class="co">##   offset (integer)</span></span>
<span><span class="co">##   genome (string)</span></span>
<span><span class="co">##     filter by genome of the bed file. e.g. 'hg38'</span></span>
<span><span class="co">##   bed_type (string)</span></span>
<span><span class="co">##     filter by bed type. e.g. 'bed6+4'</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bed_to_bed_search_v1_bed_search_bed_post</span></span>
<span><span class="co">## bed_to_bed_search_v1_bed_search_bed_post </span></span>
<span><span class="co">## Search for similar bed files </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Parameters:</span></span>
<span><span class="co">##   limit (integer)</span></span>
<span><span class="co">##   offset (integer)</span></span>
<span><span class="co">##   body ()</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $text_to_bed_search_v1_bed_search_text_post</span></span>
<span><span class="co">## text_to_bed_search_v1_bed_search_text_post </span></span>
<span><span class="co">## Search for a BedFile </span></span>
<span><span class="co">## Description:</span></span>
<span><span class="co">##   Search for a BedFile by a text query. Example: query="cancer"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Parameters:</span></span>
<span><span class="co">##   query ()</span></span>
<span><span class="co">##   limit (integer)</span></span>
<span><span class="co">##   offset (integer)</span></span></code></pre>
<p>End points can be accessed with <code>$</code> and their results can
be retrieved with <em><a href="https://CRAN.R-project.org/package=httr" class="external-link">httr</a></em>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://httr.r-lib.org/" class="external-link">httr</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'httr'</span></span></code></pre>
<pre><code><span><span class="co">## The following object is masked from 'package:Biobase':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     content</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rsp</span> <span class="op">&lt;-</span> <span class="va">api</span><span class="op">$</span><span class="fu">get_example_bed_record_v1_bed_example_get</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://httr.r-lib.org/reference/content.html" class="external-link">content</a></span><span class="op">(</span><span class="va">rsp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $name</span></span>
<span><span class="co">## [1] "Human_LnCaP_H3K9me3_R1881-16hr_Chinnaiyan"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $genome_alias</span></span>
<span><span class="co">## [1] "hg19"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $genome_digest</span></span>
<span><span class="co">## [1] "baa91c8f6e2780cfd8fd1040ff37f51c379947a2a4820d6c"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bed_type</span></span>
<span><span class="co">## [1] "bed4+1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bed_format</span></span>
<span><span class="co">## [1] "bed"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $id</span></span>
<span><span class="co">## [1] "04c46b96264ef40bca93f03b10345da5"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $description</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $submission_date</span></span>
<span><span class="co">## [1] "2024-04-09T21:49:22.425168Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $last_update_date</span></span>
<span><span class="co">## [1] "2024-04-09T21:49:22.425180Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $is_universe</span></span>
<span><span class="co">## [1] FALSE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $license_id</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $stats</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plots</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $files</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $universe_metadata</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $raw_metadata</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bedsets</span></span>
<span><span class="co">## NULL</span></span></code></pre>
<div class="section level3">
<h3 id="set-the-cache">Set the cache<a class="anchor" aria-label="anchor" href="#set-the-cache"></a>
</h3>
<p>Set the cache path with the environment variable
<code>BEDBASER_CACHE</code>; otherwise, bedbaser will choose the default
cache location.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"BEDBASER_CACHE"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="convenience-functions">Convenience Functions<a class="anchor" aria-label="anchor" href="#convenience-functions"></a>
</h2>
<p>bedbaser includes convenience functions prefixed with <em>bb_</em> to
facilitate finding BED files, exploring their metadata, download files,
and creating <code>GRanges</code> objects.</p>
<div class="section level3">
<h3 id="find-a-bed-file-or-bedset">Find a BED file or BEDset<a class="anchor" aria-label="anchor" href="#find-a-bed-file-or-bedset"></a>
</h3>
<p>Use <code><a href="../reference/bb_list_beds.html">bb_list_beds()</a></code> and <code><a href="../reference/bb_list_bedsets.html">bb_list_bedsets()</a></code> to
browse available resources in BEDbase. Both functions display the id and
names of BED files and BEDsets. An id can be used to access a specific
resource.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bb_list_beds.html">bb_list_beds</a></span><span class="op">(</span><span class="va">api</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1,000 × 11</span></span></span>
<span><span class="co">##    name         genome_alias genome_digest bed_type bed_format id    description</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Human_LnCaP… hg19         baa91c8f6e27… bed4+1   bed        04c4… <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> PM_137_NPC_… hg38         2230c535660f… bed6+4   narrowpeak bbad… <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FXS_421_NPC… hg38         2230c535660f… bed4+6   bed        0dcd… <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> NL_25_NPC_C… hg38         2230c535660f… bed6+4   narrowpeak db69… <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> NL_18_NPC_C… hg38         2230c535660f… bed4+6   bed        5a43… <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FXS_426_NPC… hg38         2230c535660f… bed4+6   bed        6a62… <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FXS_470_NPC… hg38         2230c535660f… bed6+4   narrowpeak 7126… <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> PM_137_iPSC… hg38         2230c535660f… bed4+6   bed        39b6… <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> NL_18_iPSC_… hg38         2230c535660f… bed6+4   narrowpeak e216… <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FXS_425_iPS… hg38         2230c535660f… bed3+0   bed        60b8… <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 990 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 4 more variables: submission_date &lt;chr&gt;, last_update_date &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   is_universe &lt;lgl&gt;, license_id &lt;chr&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bb_list_bedsets.html">bb_list_bedsets</a></span><span class="op">(</span><span class="va">api</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1,707 × 5</span></span></span>
<span><span class="co">##    id            name          md5sum                        description bed_ids</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> excluderanges Excluderanges bf618e9e98842467fad39c7f86a9… Genomic co… e86829…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> excluderanges Excluderanges bf618e9e98842467fad39c7f86a9… Genomic co… eef2eb…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> excluderanges Excluderanges bf618e9e98842467fad39c7f86a9… Genomic co… ba5351…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> excluderanges Excluderanges bf618e9e98842467fad39c7f86a9… Genomic co… 6bc6da…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> excluderanges Excluderanges bf618e9e98842467fad39c7f86a9… Genomic co… a09cb0…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> excluderanges Excluderanges bf618e9e98842467fad39c7f86a9… Genomic co… 608827…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> excluderanges Excluderanges bf618e9e98842467fad39c7f86a9… Genomic co… 664c47…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> excluderanges Excluderanges bf618e9e98842467fad39c7f86a9… Genomic co… 2723d1…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> excluderanges Excluderanges bf618e9e98842467fad39c7f86a9… Genomic co… 56ce79…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> excluderanges Excluderanges bf618e9e98842467fad39c7f86a9… Genomic co… 80d2b2…</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 1,697 more rows</span></span></span></code></pre>
</div>
<div class="section level3">
<h3 id="examine-metadata">Examine metadata<a class="anchor" aria-label="anchor" href="#examine-metadata"></a>
</h3>
<p>Use <code><a href="../reference/bb_metadata.html">bb_metadata()</a></code> to learn more about a BED or BEDset
associated with an id.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_bed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bb_example.html">bb_example</a></span><span class="op">(</span><span class="va">api</span>, <span class="st">"bed"</span><span class="op">)</span></span>
<span><span class="va">md</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bb_metadata.html">bb_metadata</a></span><span class="op">(</span><span class="va">api</span>, <span class="va">ex_bed</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">md</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $name</span></span>
<span><span class="co">## [1] "Human_LnCaP_H3K9me3_R1881-16hr_Chinnaiyan"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $genome_alias</span></span>
<span><span class="co">## [1] "hg19"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $genome_digest</span></span>
<span><span class="co">## [1] "baa91c8f6e2780cfd8fd1040ff37f51c379947a2a4820d6c"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bed_type</span></span>
<span><span class="co">## [1] "bed4+1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bed_format</span></span>
<span><span class="co">## [1] "bed"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $id</span></span>
<span><span class="co">## [1] "04c46b96264ef40bca93f03b10345da5"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="show-bed-files-in-bedset">Show BED files in BEDset<a class="anchor" aria-label="anchor" href="#show-bed-files-in-bedset"></a>
</h3>
<p>Use <code><a href="../reference/bb_beds_in_bedset.html">bb_beds_in_bedset()</a></code> to display the id of BEDs in a
BEDset.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bb_beds_in_bedset.html">bb_beds_in_bedset</a></span><span class="op">(</span><span class="va">api</span>, <span class="st">"excluderanges"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 80 × 8</span></span></span>
<span><span class="co">##    name  genome_alias bed_type bed_format id    submission_date last_update_date</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> mm39… mm39         bed3+8   bed        43bd… 2024-04-09T12:… 2024-04-09T12:0…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> mm39… mm39         bed3+8   bed        7d73… 2024-04-09T12:… 2024-04-09T12:0…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> mm39… mm39         bed3+8   bed        18ff… 2024-04-09T12:… 2024-04-09T12:0…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> mm10… mm10         bed3+8   bed        6bc6… 2024-04-09T12:… 2024-04-09T12:0…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> mm10… mm10         bed3+8   bed        027d… 2024-04-09T12:… 2024-04-09T12:0…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> mm10… mm10         bed3+8   bed        7e82… 2024-04-09T12:… 2024-04-09T12:0…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> mm10… mm10         bed3+8   bed        a09c… 2024-04-09T12:… 2024-04-09T12:0…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> hg19… hg19         bed3+4   bed        3d6d… 2024-04-09T12:… 2024-04-09T12:0…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> mm10… mm10         bed3+8   bed        8d84… 2024-04-09T12:… 2024-04-09T12:0…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> mm9.… mm9          bed3+8   bed        4776… 2024-04-09T12:… 2024-04-09T12:0…</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 70 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 1 more variable: is_universe &lt;lgl&gt;</span></span></span></code></pre>
</div>
<div class="section level3">
<h3 id="search-for-a-bed-file-by-keyword">Search for a BED file by keyword<a class="anchor" aria-label="anchor" href="#search-for-a-bed-file-by-keyword"></a>
</h3>
<p>Search for BED files by keywords. <code><a href="../reference/bb_bed_text_search.html">bb_bed_text_search()</a></code>
returns all BED files scored against a keyword query.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bb_bed_text_search.html">bb_bed_text_search</a></span><span class="op">(</span><span class="va">api</span>, <span class="st">"cancer"</span>, limit <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 10 × 31</span></span></span>
<span><span class="co">##    id                       payload.antibody payload.cell_line payload.cell_type</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> d9abb65f-d77d-fea6-8cab… <span style="color: #949494;">"</span>c_MYC<span style="color: #949494;">"</span>          <span style="color: #949494;">""</span>                MCF-7            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 24c58fb7-1758-cf62-4308… <span style="color: #949494;">"</span>H3K9me3<span style="color: #949494;">"</span>        <span style="color: #949494;">""</span>                LnCaP            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> fe29d42e-5423-bbf0-8c5c… <span style="color: #949494;">""</span>               <span style="color: #949494;">""</span>                fibroblast of lu…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> 28de3d3d-6d38-fd32-6607… <span style="color: #949494;">"</span>Polll<span style="color: #949494;">"</span>          <span style="color: #949494;">""</span>                VCaP             </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> c1dc09ce-da0d-44fd-f5e8… <span style="color: #949494;">"</span>H3K9me3<span style="color: #949494;">"</span>        <span style="color: #949494;">""</span>                VCaP             </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> 61393a67-aa93-4136-ef38… <span style="color: #949494;">""</span>               <span style="color: #949494;">""</span>                Ishikawa         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> df6661a1-4693-eb22-7e44… <span style="color: #949494;">"</span>H3K4me2<span style="color: #949494;">"</span>        <span style="color: #949494;">""</span>                LnCaP            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> a7f800af-f429-5d77-c915… <span style="color: #949494;">""</span>               <span style="color: #949494;">""</span>                H1               </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> 9591e90a-d5e3-513b-0dc8… <span style="color: #949494;">"</span>H3K4me2<span style="color: #949494;">"</span>        <span style="color: #949494;">""</span>                LnCaP            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> b27e2b35-e384-7403-2c2b… <span style="color: #949494;">"</span>Polll<span style="color: #949494;">"</span>          <span style="color: #949494;">""</span>                VCaP             </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 27 more variables: payload.description &lt;chr&gt;, payload.exp_protocol &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   payload.genome &lt;chr&gt;, payload.genotype &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   payload.global_experiment_id &lt;chr&gt;, payload.global_sample_id &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   payload.library_source &lt;chr&gt;, payload.organism &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   payload.sample_name &lt;chr&gt;, payload.species_id &lt;chr&gt;, payload.target &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   payload.tissue &lt;chr&gt;, payload.treatment &lt;chr&gt;, score &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   metadata.name &lt;chr&gt;, metadata.genome_alias &lt;chr&gt;, …</span></span></span></code></pre>
</div>
<div class="section level3">
<h3 id="import-a-bed-into-a-granges-object">Import a BED into a GRanges object<a class="anchor" aria-label="anchor" href="#import-a-bed-into-a-granges-object"></a>
</h3>
<p>Create a GRanges object with a BED id with
<code>bb_to_granges</code>, which downloads and imports a BED file using
<em><a href="https://bioconductor.org/packages/3.20/rtracklayer" class="external-link">rtracklayer</a></em>.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_bed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bb_example.html">bb_example</a></span><span class="op">(</span><span class="va">api</span>, <span class="st">"bed"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ex_bed</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $name</span></span>
<span><span class="co">## [1] "Human_LnCaP_H3K9me3_R1881-16hr_Chinnaiyan"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $genome_alias</span></span>
<span><span class="co">## [1] "hg19"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $genome_digest</span></span>
<span><span class="co">## [1] "baa91c8f6e2780cfd8fd1040ff37f51c379947a2a4820d6c"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bed_type</span></span>
<span><span class="co">## [1] "bed4+1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bed_format</span></span>
<span><span class="co">## [1] "bed"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $id</span></span>
<span><span class="co">## [1] "04c46b96264ef40bca93f03b10345da5"</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Allow bedbaser to assign column names and types</span></span>
<span><span class="fu"><a href="../reference/bb_to_granges.html">bb_to_granges</a></span><span class="op">(</span><span class="va">api</span>, <span class="va">ex_bed</span><span class="op">$</span><span class="va">id</span>, quietly <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## GRanges object with 4675 ranges and 2 metadata columns:</span></span>
<span><span class="co">##          seqnames            ranges strand |           name        V5</span></span>
<span><span class="co">##             &lt;Rle&gt;         &lt;IRanges&gt;  &lt;Rle&gt; |    &lt;character&gt; &lt;numeric&gt;</span></span>
<span><span class="co">##      [1]     chr1        9872-10760      * |    MACS_peak_1    509.71</span></span>
<span><span class="co">##      [2]     chr1     563962-570848      * |    MACS_peak_2   3100.00</span></span>
<span><span class="co">##      [3]     chr1     608244-608641      * |    MACS_peak_3    159.53</span></span>
<span><span class="co">##      [4]     chr1     723803-727662      * |    MACS_peak_4   1397.24</span></span>
<span><span class="co">##      [5]     chr1     824433-825382      * |    MACS_peak_5     77.21</span></span>
<span><span class="co">##      ...      ...               ...    ... .            ...       ...</span></span>
<span><span class="co">##   [4671]     chrY 59012797-59015258      * | MACS_peak_4671    193.82</span></span>
<span><span class="co">##   [4672]     chrY 59015838-59019249      * | MACS_peak_4672    289.09</span></span>
<span><span class="co">##   [4673]     chrY 59019496-59021043      * | MACS_peak_4673    159.15</span></span>
<span><span class="co">##   [4674]     chrY 59021914-59022958      * | MACS_peak_4674     80.73</span></span>
<span><span class="co">##   [4675]     chrY 59025695-59026670      * | MACS_peak_4675     75.78</span></span>
<span><span class="co">##   -------</span></span>
<span><span class="co">##   seqinfo: 298 sequences (2 circular) from hg19 genome</span></span></code></pre>
<p>For BEDX+Y formats, a named list with column types may be passed
through <code>extra_cols</code> if the column name and type are known.
Otherwise, <code>bb_to_granges</code> guesses the column types and
assigns column names.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Manually assign column name and type using `extra_cols`</span></span>
<span><span class="fu"><a href="../reference/bb_to_granges.html">bb_to_granges</a></span><span class="op">(</span><span class="va">api</span>, <span class="va">ex_bed</span><span class="op">$</span><span class="va">id</span>, extra_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"column_name"</span> <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><code>bb_to_granges</code> automatically assigns the column names and
types for broad peak and narrow peak files.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bed_id</span> <span class="op">&lt;-</span> <span class="st">"bbad85f21962bb8d972444f7f9a3a932"</span></span>
<span><span class="va">md</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bb_metadata.html">bb_metadata</a></span><span class="op">(</span><span class="va">api</span>, <span class="va">bed_id</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">md</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $name</span></span>
<span><span class="co">## [1] "PM_137_NPC_CTCF_ChIP"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $genome_alias</span></span>
<span><span class="co">## [1] "hg38"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $genome_digest</span></span>
<span><span class="co">## [1] "2230c535660fb4774114bfa966a62f823fdb6d21acf138d4"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bed_type</span></span>
<span><span class="co">## [1] "bed6+4"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bed_format</span></span>
<span><span class="co">## [1] "narrowpeak"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $id</span></span>
<span><span class="co">## [1] "bbad85f21962bb8d972444f7f9a3a932"</span></span></code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bb_to_granges.html">bb_to_granges</a></span><span class="op">(</span><span class="va">api</span>, <span class="va">bed_id</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## GRanges object with 26210 ranges and 6 metadata columns:</span></span>
<span><span class="co">##           seqnames            ranges strand |                   name     score</span></span>
<span><span class="co">##              &lt;Rle&gt;         &lt;IRanges&gt;  &lt;Rle&gt; |            &lt;character&gt; &lt;numeric&gt;</span></span>
<span><span class="co">##       [1]     chr1     869762-870077      * | 111-11-DSP-NPC-CTCF-..       587</span></span>
<span><span class="co">##       [2]     chr1     904638-904908      * | 111-11-DSP-NPC-CTCF-..       848</span></span>
<span><span class="co">##       [3]     chr1     921139-921331      * | 111-11-DSP-NPC-CTCF-..       177</span></span>
<span><span class="co">##       [4]     chr1     939191-939364      * | 111-11-DSP-NPC-CTCF-..       139</span></span>
<span><span class="co">##       [5]     chr1     976105-976282      * | 111-11-DSP-NPC-CTCF-..       185</span></span>
<span><span class="co">##       ...      ...               ...    ... .                    ...       ...</span></span>
<span><span class="co">##   [26206]     chrY 18445992-18446211      * | 111-11-DSP-NPC-CTCF-..       203</span></span>
<span><span class="co">##   [26207]     chrY 18608331-18608547      * | 111-11-DSP-NPC-CTCF-..       203</span></span>
<span><span class="co">##   [26208]     chrY 18669820-18670062      * | 111-11-DSP-NPC-CTCF-..       244</span></span>
<span><span class="co">##   [26209]     chrY 18997783-18997956      * | 111-11-DSP-NPC-CTCF-..       191</span></span>
<span><span class="co">##   [26210]     chrY 19433165-19433380      * | 111-11-DSP-NPC-CTCF-..       275</span></span>
<span><span class="co">##           signalValue    pValue    qValue      peak</span></span>
<span><span class="co">##             &lt;numeric&gt; &lt;numeric&gt; &lt;numeric&gt; &lt;integer&gt;</span></span>
<span><span class="co">##       [1]    20.94161   58.7971   54.9321       152</span></span>
<span><span class="co">##       [2]    30.90682   84.8282   80.3102       118</span></span>
<span><span class="co">##       [3]     9.62671   17.7065   14.8446        69</span></span>
<span><span class="co">##       [4]     8.10671   13.9033   11.1352        49</span></span>
<span><span class="co">##       [5]     9.26375   18.5796   15.6985       129</span></span>
<span><span class="co">##       ...         ...       ...       ...       ...</span></span>
<span><span class="co">##   [26206]    10.64005   20.3549   17.4328       106</span></span>
<span><span class="co">##   [26207]     8.00064   20.3991   17.4753       149</span></span>
<span><span class="co">##   [26208]    12.16006   24.4764   21.4585       119</span></span>
<span><span class="co">##   [26209]     8.97342   19.1163   16.2230        69</span></span>
<span><span class="co">##   [26210]    12.21130   27.5139   24.4211        89</span></span>
<span><span class="co">##   -------</span></span>
<span><span class="co">##   seqinfo: 711 sequences (1 circular) from hg38 genome</span></span></code></pre>
<p><code>bb_to_granges</code> can also import big BED files.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_bed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bb_example.html">bb_example</a></span><span class="op">(</span><span class="va">api</span>, <span class="st">"bed"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/bb_to_granges.html">bb_to_granges</a></span><span class="op">(</span><span class="va">api</span>, <span class="va">ex_bed</span><span class="op">$</span><span class="va">id</span>, <span class="st">"bigbed"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## GRanges object with 4675 ranges and 2 metadata columns:</span></span>
<span><span class="co">##          seqnames            ranges strand |           name      field6</span></span>
<span><span class="co">##             &lt;Rle&gt;         &lt;IRanges&gt;  &lt;Rle&gt; |    &lt;character&gt; &lt;character&gt;</span></span>
<span><span class="co">##      [1]     chr1        9871-10760      * |    MACS_peak_1      509.71</span></span>
<span><span class="co">##      [2]     chr1     563961-570848      * |    MACS_peak_2     3100.00</span></span>
<span><span class="co">##      [3]     chr1     608243-608641      * |    MACS_peak_3      159.53</span></span>
<span><span class="co">##      [4]     chr1     723802-727662      * |    MACS_peak_4     1397.24</span></span>
<span><span class="co">##      [5]     chr1     824432-825382      * |    MACS_peak_5       77.21</span></span>
<span><span class="co">##      ...      ...               ...    ... .            ...         ...</span></span>
<span><span class="co">##   [4671]     chrY 59012796-59015258      * | MACS_peak_4671      193.82</span></span>
<span><span class="co">##   [4672]     chrY 59015837-59019249      * | MACS_peak_4672      289.09</span></span>
<span><span class="co">##   [4673]     chrY 59019495-59021043      * | MACS_peak_4673      159.15</span></span>
<span><span class="co">##   [4674]     chrY 59021913-59022958      * | MACS_peak_4674       80.73</span></span>
<span><span class="co">##   [4675]     chrY 59025694-59026670      * | MACS_peak_4675       75.78</span></span>
<span><span class="co">##   -------</span></span>
<span><span class="co">##   seqinfo: 24 sequences from an unspecified genome</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="import-a-bedset-into-a-grangeslist">Import a BEDset into a GRangesList<a class="anchor" aria-label="anchor" href="#import-a-bedset-into-a-grangeslist"></a>
</h3>
<p>Create a GRangesList given a BEDset id with
<code>bb_to_grangeslist</code>.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bedset_id</span> <span class="op">&lt;-</span> <span class="st">"lola_hg38_ucsc_features"</span></span>
<span><span class="fu"><a href="../reference/bb_to_grangeslist.html">bb_to_grangeslist</a></span><span class="op">(</span><span class="va">api</span>, <span class="va">bedset_id</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## GRangesList object of length 10:</span></span>
<span><span class="co">## [[1]]</span></span>
<span><span class="co">## GRanges object with 28633 ranges and 0 metadata columns:</span></span>
<span><span class="co">##           seqnames            ranges strand</span></span>
<span><span class="co">##              &lt;Rle&gt;         &lt;IRanges&gt;  &lt;Rle&gt;</span></span>
<span><span class="co">##       [1]     chr1       28736-29810      *</span></span>
<span><span class="co">##       [2]     chr1     135125-135563      *</span></span>
<span><span class="co">##       [3]     chr1     491108-491546      *</span></span>
<span><span class="co">##       [4]     chr1     381173-382185      *</span></span>
<span><span class="co">##       [5]     chr1     368793-370063      *</span></span>
<span><span class="co">##       ...      ...               ...    ...</span></span>
<span><span class="co">##   [28629]     chrY 25463969-25464941      *</span></span>
<span><span class="co">##   [28630]     chrY 26409389-26409785      *</span></span>
<span><span class="co">##   [28631]     chrY 26627169-26627397      *</span></span>
<span><span class="co">##   [28632]     chrY 57067646-57068034      *</span></span>
<span><span class="co">##   [28633]     chrY 57203116-57203423      *</span></span>
<span><span class="co">##   -------</span></span>
<span><span class="co">##   seqinfo: 711 sequences (1 circular) from hg38 genome</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ...</span></span>
<span><span class="co">## &lt;9 more elements&gt;</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="example-change-genomic-coordinate-system-with-liftover">Example: Change genomic coordinate system with liftOver<a class="anchor" aria-label="anchor" href="#example-change-genomic-coordinate-system-with-liftover"></a>
</h2>
<p>Given a BED id, we can use <em><a href="https://bioconductor.org/packages/3.20/liftOver" class="external-link">liftOver</a></em>
to convert one genomic coordinate system to another.</p>
<p>Install <em><a href="https://bioconductor.org/packages/3.20/liftOver" class="external-link">liftOver</a></em>
and <em><a href="https://bioconductor.org/packages/3.20/rtracklayer" class="external-link">rtracklayer</a></em>
then load the packages.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="st">"BiocManager"</span> <span class="op"><a href="https://rdrr.io/pkg/BiocGenerics/man/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/row_colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://bioconductor.github.io/BiocManager/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"liftOver"</span>, <span class="st">"rtracklayer"</span><span class="op">)</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.bioconductor.org/help/workflows/liftOver/" class="external-link">liftOver</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rtracklayer</span><span class="op">)</span></span></code></pre></div>
<p>Create a GRanges object from a <a href="https://bedbase.org/bed/7816f807ffe1022f438e1f5b094acf1a" class="external-link">mouse
genome</a>. Create a BEDbase Service instance. Use the instance to
create a GRanges object from the BEDbase <code>id</code>.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">id</span> <span class="op">&lt;-</span> <span class="st">"7816f807ffe1022f438e1f5b094acf1a"</span></span>
<span><span class="va">api</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/BEDbase.html">BEDbase</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in readLines(file, warn = readLines.warn): incomplete final line found</span></span>
<span><span class="co">## on '/tmp/RtmpB3iiq6/filea6544e17c0c'</span></span></code></pre>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gro</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bb_to_granges.html">bb_to_granges</a></span><span class="op">(</span><span class="va">api</span>, <span class="va">id</span><span class="op">)</span></span>
<span><span class="va">gro</span></span></code></pre></div>
<pre><code><span><span class="co">## GRanges object with 3435 ranges and 3 metadata columns:</span></span>
<span><span class="co">##          seqnames            ranges strand |        V4          V5</span></span>
<span><span class="co">##             &lt;Rle&gt;         &lt;IRanges&gt;  &lt;Rle&gt; | &lt;numeric&gt; &lt;character&gt;</span></span>
<span><span class="co">##      [1]     chr1   8628601-8719100      * |     90501           *</span></span>
<span><span class="co">##      [2]     chr1 12038301-12041400      * |      3101           *</span></span>
<span><span class="co">##      [3]     chr1 14958601-14992600      * |     34001           *</span></span>
<span><span class="co">##      [4]     chr1 17466801-17479900      * |     13101           *</span></span>
<span><span class="co">##      [5]     chr1 18872501-18901300      * |     28801           *</span></span>
<span><span class="co">##      ...      ...               ...    ... .       ...         ...</span></span>
<span><span class="co">##   [3431]     chrY   6530201-6663200      * |    133001           *</span></span>
<span><span class="co">##   [3432]     chrY   6760201-6835800      * |     75601           *</span></span>
<span><span class="co">##   [3433]     chrY   6984101-8985400      * |   2001301           *</span></span>
<span><span class="co">##   [3434]     chrY 10638501-41003800      * |  30365301           *</span></span>
<span><span class="co">##   [3435]     chrY 41159201-91744600      * |  50585401           *</span></span>
<span><span class="co">##                          V6</span></span>
<span><span class="co">##                 &lt;character&gt;</span></span>
<span><span class="co">##      [1] High Signal Region</span></span>
<span><span class="co">##      [2] High Signal Region</span></span>
<span><span class="co">##      [3] High Signal Region</span></span>
<span><span class="co">##      [4] High Signal Region</span></span>
<span><span class="co">##      [5] High Signal Region</span></span>
<span><span class="co">##      ...                ...</span></span>
<span><span class="co">##   [3431] High Signal Region</span></span>
<span><span class="co">##   [3432] High Signal Region</span></span>
<span><span class="co">##   [3433] High Signal Region</span></span>
<span><span class="co">##   [3434] High Signal Region</span></span>
<span><span class="co">##   [3435] High Signal Region</span></span>
<span><span class="co">##   -------</span></span>
<span><span class="co">##   seqinfo: 239 sequences (1 circular) from mm10 genome</span></span></code></pre>
<p>Download the <a href="https://hgdownload.cse.ucsc.edu/downloads.html#liftover" class="external-link">chain
file</a> from UCSC.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chain_url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"https://hgdownload.cse.ucsc.edu/goldenPath/mm10/liftOver/"</span>,</span>
<span>                    <span class="st">"mm10ToMm39.over.chain.gz"</span><span class="op">)</span></span>
<span><span class="va">tmpdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">gz</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmpdir</span>, <span class="st">"mm10ToMm39.over.chain.gz"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="va">chain_url</span>, <span class="va">gz</span><span class="op">)</span></span>
<span><span class="fu">gunzip</span><span class="op">(</span><span class="va">gz</span>, remove <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Import the chain, set the sequence levels Style, and set the genome
for the GRanges object.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ch</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rtracklayer/man/Chain-class.html" class="external-link">import.chain</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmpdir</span>, <span class="st">"mm10ToMm39.over.chain"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">seqlevelsStyle</span><span class="op">(</span><span class="va">gro</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"UCSC"</span></span>
<span><span class="va">gro39</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rtracklayer/man/liftOver.html" class="external-link">liftOver</a></span><span class="op">(</span><span class="va">gro</span>, <span class="va">ch</span><span class="op">)</span></span>
<span><span class="va">gro39</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">gro39</span><span class="op">)</span></span>
<span><span class="fu">genome</span><span class="op">(</span><span class="va">gro39</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"mm39"</span></span>
<span><span class="va">gro39</span></span></code></pre></div>
<pre><code><span><span class="co">## GRanges object with 6435 ranges and 3 metadata columns:</span></span>
<span><span class="co">##          seqnames            ranges strand |        V4          V5</span></span>
<span><span class="co">##             &lt;Rle&gt;         &lt;IRanges&gt;  &lt;Rle&gt; | &lt;numeric&gt; &lt;character&gt;</span></span>
<span><span class="co">##      [1]     chr1   8698825-8789324      * |     90501           *</span></span>
<span><span class="co">##      [2]     chr1 12108525-12111624      * |      3101           *</span></span>
<span><span class="co">##      [3]     chr1 15028825-15062824      * |     34001           *</span></span>
<span><span class="co">##      [4]     chr1 17537025-17550124      * |     13101           *</span></span>
<span><span class="co">##      [5]     chr1 18942725-18971524      * |     28801           *</span></span>
<span><span class="co">##      ...      ...               ...    ... .       ...         ...</span></span>
<span><span class="co">##   [6431]     chrY 78211533-78211575      * |  50585401           *</span></span>
<span><span class="co">##   [6432]     chrY 78170295-78170413      * |  50585401           *</span></span>
<span><span class="co">##   [6433]     chrY 78151769-78152688      * |  50585401           *</span></span>
<span><span class="co">##   [6434]     chrY 78149461-78151766      * |  50585401           *</span></span>
<span><span class="co">##   [6435]     chrY 72066439-72066462      * |  50585401           *</span></span>
<span><span class="co">##                          V6</span></span>
<span><span class="co">##                 &lt;character&gt;</span></span>
<span><span class="co">##      [1] High Signal Region</span></span>
<span><span class="co">##      [2] High Signal Region</span></span>
<span><span class="co">##      [3] High Signal Region</span></span>
<span><span class="co">##      [4] High Signal Region</span></span>
<span><span class="co">##      [5] High Signal Region</span></span>
<span><span class="co">##      ...                ...</span></span>
<span><span class="co">##   [6431] High Signal Region</span></span>
<span><span class="co">##   [6432] High Signal Region</span></span>
<span><span class="co">##   [6433] High Signal Region</span></span>
<span><span class="co">##   [6434] High Signal Region</span></span>
<span><span class="co">##   [6435] High Signal Region</span></span>
<span><span class="co">##   -------</span></span>
<span><span class="co">##   seqinfo: 21 sequences from mm39 genome; no seqlengths</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="sessioninfo">SessionInfo()<a class="anchor" aria-label="anchor" href="#sessioninfo"></a>
</h2>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.4.1 (2024-06-14)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.4 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span></span>
<span><span class="co">##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span></span>
<span><span class="co">##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span></span>
<span><span class="co">##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span></span>
<span><span class="co">## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats4    stats     graphics  grDevices utils     datasets  methods  </span></span>
<span><span class="co">## [8] base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">##  [1] httr_1.4.7                             </span></span>
<span><span class="co">##  [2] liftOver_1.29.0                        </span></span>
<span><span class="co">##  [3] Homo.sapiens_1.3.1                     </span></span>
<span><span class="co">##  [4] TxDb.Hsapiens.UCSC.hg19.knownGene_3.2.2</span></span>
<span><span class="co">##  [5] org.Hs.eg.db_3.19.1                    </span></span>
<span><span class="co">##  [6] GO.db_3.19.1                           </span></span>
<span><span class="co">##  [7] OrganismDbi_1.47.0                     </span></span>
<span><span class="co">##  [8] GenomicFeatures_1.57.0                 </span></span>
<span><span class="co">##  [9] AnnotationDbi_1.67.0                   </span></span>
<span><span class="co">## [10] Biobase_2.65.0                         </span></span>
<span><span class="co">## [11] gwascat_2.37.0                         </span></span>
<span><span class="co">## [12] R.utils_2.12.3                         </span></span>
<span><span class="co">## [13] R.oo_1.26.0                            </span></span>
<span><span class="co">## [14] R.methodsS3_1.8.2                      </span></span>
<span><span class="co">## [15] rtracklayer_1.65.0                     </span></span>
<span><span class="co">## [16] GenomicRanges_1.57.1                   </span></span>
<span><span class="co">## [17] GenomeInfoDb_1.41.1                    </span></span>
<span><span class="co">## [18] IRanges_2.39.2                         </span></span>
<span><span class="co">## [19] S4Vectors_0.43.2                       </span></span>
<span><span class="co">## [20] BiocGenerics_0.51.0                    </span></span>
<span><span class="co">## [21] bedbaser_0.99.0                        </span></span>
<span><span class="co">## [22] BiocStyle_2.33.1                       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##   [1] jsonlite_1.8.8              magrittr_2.0.3             </span></span>
<span><span class="co">##   [3] rmarkdown_2.28              fs_1.6.4                   </span></span>
<span><span class="co">##   [5] BiocIO_1.15.1               zlibbioc_1.51.1            </span></span>
<span><span class="co">##   [7] ragg_1.3.2                  vctrs_0.6.5                </span></span>
<span><span class="co">##   [9] memoise_2.0.1               Rsamtools_2.21.1           </span></span>
<span><span class="co">##  [11] RCurl_1.98-1.16             progress_1.2.3             </span></span>
<span><span class="co">##  [13] htmltools_0.5.8.1           S4Arrays_1.5.7             </span></span>
<span><span class="co">##  [15] BiocBaseUtils_1.7.0         lambda.r_1.2.4             </span></span>
<span><span class="co">##  [17] curl_5.2.1                  SparseArray_1.5.31         </span></span>
<span><span class="co">##  [19] sass_0.4.9                  bslib_0.8.0                </span></span>
<span><span class="co">##  [21] htmlwidgets_1.6.4           desc_1.4.3                 </span></span>
<span><span class="co">##  [23] httr2_1.0.2                 futile.options_1.0.1       </span></span>
<span><span class="co">##  [25] cachem_1.1.0                GenomicAlignments_1.41.0   </span></span>
<span><span class="co">##  [27] mime_0.12                   lifecycle_1.0.4            </span></span>
<span><span class="co">##  [29] pkgconfig_2.0.3             Matrix_1.7-0               </span></span>
<span><span class="co">##  [31] R6_2.5.1                    fastmap_1.2.0              </span></span>
<span><span class="co">##  [33] GenomeInfoDbData_1.2.12     MatrixGenerics_1.17.0      </span></span>
<span><span class="co">##  [35] shiny_1.9.1                 digest_0.6.36              </span></span>
<span><span class="co">##  [37] textshaping_0.4.0           RSQLite_2.3.7              </span></span>
<span><span class="co">##  [39] filelock_1.0.3              fansi_1.0.6                </span></span>
<span><span class="co">##  [41] abind_1.4-5                 compiler_4.4.1             </span></span>
<span><span class="co">##  [43] withr_3.0.1                 bit64_4.0.5                </span></span>
<span><span class="co">##  [45] BiocParallel_1.39.0         DBI_1.2.3                  </span></span>
<span><span class="co">##  [47] biomaRt_2.61.3              rappdirs_0.3.3             </span></span>
<span><span class="co">##  [49] DelayedArray_0.31.11        rjson_0.2.21               </span></span>
<span><span class="co">##  [51] tools_4.4.1                 httpuv_1.6.15              </span></span>
<span><span class="co">##  [53] glue_1.7.0                  restfulr_0.0.15            </span></span>
<span><span class="co">##  [55] promises_1.3.0              grid_4.4.1                 </span></span>
<span><span class="co">##  [57] generics_0.1.3              BSgenome_1.73.0            </span></span>
<span><span class="co">##  [59] tzdb_0.4.0                  tidyr_1.3.1                </span></span>
<span><span class="co">##  [61] hms_1.1.3                   xml2_1.3.6                 </span></span>
<span><span class="co">##  [63] utf8_1.2.4                  XVector_0.45.0             </span></span>
<span><span class="co">##  [65] pillar_1.9.0                stringr_1.5.1              </span></span>
<span><span class="co">##  [67] later_1.3.2                 splines_4.4.1              </span></span>
<span><span class="co">##  [69] dplyr_1.1.4                 BiocFileCache_2.13.0       </span></span>
<span><span class="co">##  [71] lattice_0.22-6              survival_3.7-0             </span></span>
<span><span class="co">##  [73] bit_4.0.5                   RBGL_1.81.0                </span></span>
<span><span class="co">##  [75] tidyselect_1.2.1            Biostrings_2.73.1          </span></span>
<span><span class="co">##  [77] miniUI_0.1.1.1              knitr_1.48                 </span></span>
<span><span class="co">##  [79] bookdown_0.40               SummarizedExperiment_1.35.1</span></span>
<span><span class="co">##  [81] snpStats_1.55.0             futile.logger_1.4.3        </span></span>
<span><span class="co">##  [83] xfun_0.47                   matrixStats_1.3.0          </span></span>
<span><span class="co">##  [85] DT_0.33                     stringi_1.8.4              </span></span>
<span><span class="co">##  [87] UCSC.utils_1.1.0            yaml_2.3.10                </span></span>
<span><span class="co">##  [89] evaluate_0.24.0             codetools_0.2-20           </span></span>
<span><span class="co">##  [91] tibble_3.2.1                AnVILBase_0.99.25          </span></span>
<span><span class="co">##  [93] graph_1.83.0                BiocManager_1.30.23        </span></span>
<span><span class="co">##  [95] cli_3.6.3                   AnVIL_1.17.11              </span></span>
<span><span class="co">##  [97] xtable_1.8-4                systemfonts_1.1.0          </span></span>
<span><span class="co">##  [99] jquerylib_0.1.4             Rcpp_1.0.13                </span></span>
<span><span class="co">## [101] dbplyr_2.5.0                png_0.1-8                  </span></span>
<span><span class="co">## [103] XML_3.99-0.17               rapiclient_0.1.5           </span></span>
<span><span class="co">## [105] parallel_4.4.1              pkgdown_2.1.0.9000         </span></span>
<span><span class="co">## [107] readr_2.1.5                 blob_1.2.4                 </span></span>
<span><span class="co">## [109] prettyunits_1.2.0           bitops_1.0-8               </span></span>
<span><span class="co">## [111] txdbmaker_1.1.1             VariantAnnotation_1.51.0   </span></span>
<span><span class="co">## [113] purrr_1.0.2                 crayon_1.5.3               </span></span>
<span><span class="co">## [115] rlang_1.1.4                 KEGGREST_1.45.1            </span></span>
<span><span class="co">## [117] formatR_1.14</span></span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jen Wokaty, Levi Waldron.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.9000.</p>
</div>

      </footer>
</div>






  </body>
</html>
